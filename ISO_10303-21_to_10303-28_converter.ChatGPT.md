Q: Is there an ISO 10303-21 STEP ASCII to 10303-28 STEP-XML converter?

I wasn’t able to find a well-maintained, general-purpose tool that reliably converts ISO 10303-21 (the “STEP file / clear text / STEP-Physical file” format) to ISO 10303-28 (STEP-XML, the XML representation) in all cases. But there *are* partial tools, examples, and indications that the task is feasible, with caveats. Here’s a summary of what I found, plus suggestions and what to watch out for.

---

## What are ISO 10303-21 vs ISO 10303-28

* **Part 21** is the clear-text (ASCII) STE P file format—very widely used. ([The Library of Congress][1.1])
* **Part 28** (“STEP-XML”) is the XML representation of EXPRESS schemas and of data conforming to those schemas. More suitable for XML-tooling, etc. ([Wikipedia][1.2])

They are intended to represent the *same* EXPRESS schema/data, though there are details where mappings differ (e.g. how some EXPRESS constructs map to XML) and some small mismatches. ([The Library of Congress][1.1])

---

## What I found: existing tools / projects / examples

Here are tools / code / discussions that are relevant:

1. **xbim toolkit**
   It includes examples of converting STEP-Physical File (Part 21) to XML and back again for the IFC schema (IFC2x3, IFC4). IFC is a specification built on EXPRESS + STEP. This means that at least for the IFC use case, there *is* code that translates between the SPF (STEP-file) and XML (IFC-XML, which is Part 28). ([docs.xbim.net][1.3])

2. **IFC / buildingSMART formats**
   The IFC-XML format is based on ISO 10303-28. So software that supports IFC-XML is, for that schema (IFC), doing a kind of STEP-21 → STEP-28 (or vice versa) conversion. ([ideastatica.com][1.4])

3. **Community / open source discussions**

   * In the STEPcode community, there have been requests or experiments for converting STEP to XML. Some threads say it is *not yet supported*, or only partially. ([Google Groups][1.5])
   * In the “Wish / Feature request” threads (e.g. Rhino forums) people express interest in support for ISO 10303-28. But usually, software supports only the text STEP-file (Part 21). ([McNeel Forum][1.6])

4. **Standards documentation / equivalence**
   The ISO / standards documents mention that the two are *normatively equivalent* for many purposes, though mapping rules must be respected. But equivalence doesn’t imply that every tool implements both or that there is an “official” converter. ([The Library of Congress][1.1])

---

## What I didn’t find (i.e. gaps)

* A widely used, generic *converter* that takes any Part 21 file (for arbitrary EXPRESS schema) and reliably outputs Part 28 XML.
* Tools in the mainstream CAD vendors that export to STEP-XML in general (outside specific schemas like IFC). I couldn’t find clear evidence that common CAD tools support exporting arbitrary STEP data to XML (Part 28).

---

## Feasibility, considerations & what would need to happen

If someone (or you) were to build or use a converter, here are the main technical issues / considerations:

* **Schema awareness**: To convert properly, the converter has to know the EXPRESS schema (or schemas) that the STEP-file conforms to. Without knowing the schema, you can’t correctly map all entity types, attributes, selects, etc.

* **Mapping rules**: Part 28 defines mapping rules (how EXPRESS constructs map into XML, how to represent aggregates, selects, etc.). These must be followed to ensure compliance.

* **Handling of references**: In STEP-file (Part 21) entities refer to each other by IDs (#123 etc.), possibly forward references. In XML, references may need to be expressed via XML IDs, or by other mechanisms.

* **File size / verbosity**: XML is more verbose. For large STEP files, the XML equivalent can be much larger and more resource-intensive to parse/handle.

* **Tool support**: Parsing and serializing both formats demands robust libraries for EXPRESS schemas, STEP parsing, XML serialization.

* **Corner cases**: EXPRESS allows many features (e.g. aggregates, derived/inverse attributes, redefined types) that may be tricky to map in XML or may be omitted in some implementations.

---

## Conclusion & Recommendation

* **Short answer**: There *isn’t* a known universal, well-supported converter (Part 21 → Part 28) for arbitrary schemas that is publicly documented as mature.
* **But** for specific schemas that are widely used (such as IFC), there *is* working conversion in tools like the xbim toolkit.

If you need such a conversion, your best path is:

* Identify precisely which schema(s) you need to handle (IFC? Mechanical CAD? Some domain-specific STEP AP?).
* Check if there’s a library/tool for that schema that supports both formats (sometimes the tool supports “STEP-file” and “XML export (STEP-XML / schema-specific)”).
* If none exists, consider writing a converter using existing libraries: parsing the STEP file (many libraries exist, open-source, such as in STEPcode, Open CASCADE, etc.), loading the schema, then serializing per Part 28 rules.

If you like, I can try to find or even build a proof-of-concept converter (or direct you to open-source code) for your particular schema/domain. Do you want me to check for your specific case (which schema you use)?

[1.1]: https://www.loc.gov/preservation/digital/formats/fdd/fdd000448.shtml?utm_source=chatgpt.com "STEP-file, ISO 10303-21"
[1.2]: https://en.wikipedia.org/wiki/ISO_10303-28?utm_source=chatgpt.com "ISO 10303-28"
[1.3]: https://docs.xbim.net/examples/step-to-xml-and-back-again.html?utm_source=chatgpt.com "STEP to XML and Back Again - xbim toolkit"
[1.4]: https://www.ideastatica.com/blog/ifc-format-and-idea-statica?utm_source=chatgpt.com "New feature in version 23.1 - IFC Format and IDEA StatiCa"
[1.5]: https://groups.google.com/g/scl-dev/c/nrs0Xy5_D9I?utm_source=chatgpt.com "STEP to XML"
[1.6]: https://discourse.mcneel.com/t/wish-support-for-xml-based-step-file-format-export-import/79706?utm_source=chatgpt.com "WISH: support for xml-based step file format export-import"

---

Q: Is there a specific Part 21 -> Part 28 converter for AP 214 or AP 242?

Short answer: **Yes — but mostly in commercial SDKs and CAD-translation products, not as a single widely-used open-source tool.**

### What exists

* **StepTools (Rose/STEP Tools SDK)** — its API can read Part 21 files and write Part 28 (STEP-XML); you can switch the output format to `"p28"` or `"p28-raw"` in code. This is a mature, schema-aware library used for AP-level conversions. ([steptools.com][2.1])
* **Commercial CAD/translation vendors** (Datakit, Elysium, Tech Soft 3D / HOOPS Exchange, TransMagic, etc.) support AP214/AP242 and provide conversion/export workflows; several offer AP242 and STEP-XML export options or SDK hooks to produce XML. If you have a license to one of these toolkits you can perform P21→P28 conversion for AP214/AP242 with them. ([datakit.com][2.2])
* **Vendor CAD platforms** — some CAD systems / PLM platforms (examples: 3DEXPERIENCE / certain releases of CAD software) explicitly expose AP242 → STEP-XML export options (AP242 Edition 1 and later added XML export pathways). If you just need to export files, check your CAD’s STEP export options for an AP242 / XML target. ([help-3dexperience.aesvietnam.com][2.3])

### What is *not* common

* There is **no widely used, generic open-source converter** that will reliably convert *any* AP (including AP214/AP242) from P21 → P28 out of the box. Open-source projects that handle STEP (e.g. STEPcode / SCL or Open CASCADE) either **lack full Part-28 support** or have limited/partial support, so a plain off-the-shelf OSS converter is rare. ([openhub.net][2.4])

### Practical recommendation

* If you need a robust, production-grade converter for **AP214 or AP242**, start with a commercial SDK (StepTools/Rose is a strong candidate) or a CAD translation vendor (Datakit, HOOPS, Elysium, TransMagic). They are schema-aware and already handle the mapping rules required for AP214/AP242. ([steptools.com][2.1])
* If you prefer an open-source route, expect extra work: either extend an existing library or build a schema-aware converter yourself (you’ll need EXPRESS schema parsing + Part-28 serialization rules).

If you want, I can:

* look up and gather direct product pages, SDK docs and example code for StepTools, Datakit, HOOPS/TechSoft3D and TransMagic for AP214/AP242 → P28; **or**
* give a short code sketch of how to do it using StepTools’ `RoseDesign::format("p28")` call shown in their docs.

Which of those would you like me to pull together next?

[2.1]: https://www.steptools.com/docs/roselib/read_write.html?utm_source=chatgpt.com "Reading and Writing Data Sets"
[2.2]: https://www.datakit.com/en/news/step-ap242-edition-2-datakit-s-3d-data-conversion-tools-support-the-latest-evolution-of-the-step-standard-184.html?utm_source=chatgpt.com "STEP AP242 edition 2: Datakit's 3D data conversion tools ..."
[2.3]: https://help-3dexperience.aesvietnam.com/English/ExchUserMap/sst-t-Export.htm?utm_source=chatgpt.com "Exporting Data to STEP"
[2.4]: https://openhub.net/p/stepcode?utm_source=chatgpt.com "STEPcode"
